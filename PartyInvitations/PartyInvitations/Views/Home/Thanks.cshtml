@model PartyInvitations.Models.GuestResponse

@{
    ViewBag.Title = "Thanks";

    try
    {
        WebMail.SmtpServer = "smtp.gmail.com";        // own email provider SMPT server name
        WebMail.SmtpPort = 487;                      //own email provider SMPT port number
        WebMail.EnableSsl = true;                    // check correct value with own email provider
        WebMail.UserName = "chand.ash3@gmail.com";   // own username
        WebMail.Password = "******";                  //own password
        WebMail.From = "rsvp@example.com";           //value of string not important

        WebMail.Send("chand.ash3@gmail.com", "RSVP Notification", Model.Name + "is " + ((Model.WillAttend ?? false) ? "" : "not ") +
                "attending");

    }
    catch(Exception)
    {
           @:<b>Sorry - we couldn't sent the email to confirm you RSVP.</b>
        }
    }


<div class="text-center">
<h2>Thank you, @Model.Name</h2>
    <div class="lead">

@if (Model.WillAttend == true)
    {
    @:It's great that you're coming. The drinks are already in the fridge!
}
else
{
    @:Sorry to hear that you can't make it, but thanks for letting us know.
}

</div>
</div>